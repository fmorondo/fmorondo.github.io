<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Descarga de noticias · KoldoGPT</title>
  <meta name="description" content="Interfaz clara para consultar y descargar noticias por Tag ID con KoldoGPT" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- CSS centralizado -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <div class="brand">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg>
      KoldoGPT · Herramientas
      <span class="badge">Descarga de noticias</span>
    </div>
  </header>

  <main>
    <section class="card stack">
      <h1 class="title">Descarga de noticias por tags-ID</h1>
      <p class="subtitle">Descarga las últimas 600 noticias de una etiqueta a través del número de su <strong>Tag ID</strong>. Abre una nueva pestaña con la consulta y aparece el enlace para descargar un archivo .csv.</p>

      <label for="tagid">Tag ID</label>
      <input type="number" id="tagid" placeholder="Ejemplo: 3771">

      <button onclick="abrirConsulta()">Consultar</button>

      <div class="info">
        <p><strong>Tags utilizadas:</strong></p>
        <ul>
          <li><b>Caso Koldo:</b> 3771</li>
          <li><b>Santos Cerdán:</b> 2544</li>
          <li><b>Túnel de Belate:</b> 3981</li>
          <li><b>Osasuna: 1270</b></li>
        </ul>
      </div>
    </section>
  </main>

  <script>
    function abrirConsulta() {
      var tagid = document.getElementById('tagid').value.trim();
      if (tagid !== "") {
        var destino = document.createElement('a');
        destino.href = "https://its.diariodenavarra.es/privado/tag-news/xalok/api_1.php?q=tag-news&tagid=" + encodeURIComponent(tagid) + "&htmltags=remove";
        destino.target = "_blank";
        destino.rel = "noopener";
        destino.click();
      } else {
        alert("Por favor, introduce un Tag ID válido.");
      }
    }
  </script>
</body>
</html>
